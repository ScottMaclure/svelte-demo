<div class="helloWorld">

  {{#if route === routes.splash}}

    <Splash name='{{name}}' count='{{count}}'/>

  {{elseif route === routes.listUsers}}

    <Filters on:filterData='fire("filterData", event)'/>
    <Users
      isLoading='{{isLoading}}'
      items='{{items}}'
      on:requestData='requestData()'
      on:deleteItem='fire("deleteItem", event)'
    />

  {{else}}

    <p>No route found for '{{route}}'</p>

  {{/if}}

</div>

<script>
  import Config from './config.js'
  import Splash from './Splash.html'
  import Filters from './Filters.html'
  import Users from './Users.html'

  export default {
    components: {
      Config,
      Splash,
      Filters,
      Users
    },
    data () {
      return {
        route: Config.routes.default,
        routes: Config.routes,
        isLoading: false,
        count: 0,
        items: []
      }
    },
    methods: {
        requestData: function () {
          // TODO isLoading... localise to Users component?
          this.set({ isLoading: true })
          this.fire('requestData')
        },
        setData: function (data) {
          data.isLoading = false
          data.originalItems = data.items.slice() // make a shallow copy for filtering etc.
          this.set(data)
        }
    }
  }
</script>
<style>
  .helloWorld {
    background-color: var(--base-background-color, #00f);
    padding-bottom: var(--spacing-horizontal-normal);
  }
</style>